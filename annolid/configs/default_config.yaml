auto_save: false
display_label_popup: true
store_data: true
keep_prev: false
keep_prev_scale: false
keep_prev_brightness: false
keep_prev_contrast: false
logger_level: info

flags: null
label_flags: null
labels: null
file_search: null
sort_labels: true
validate_label: null

default_shape_color: [0, 255, 0]
shape_color: auto # null, 'auto', 'manual'
shift_auto_shape_color: 0
label_colors: null

shape:
  # drawing
  line_color: [0, 255, 0, 128]
  fill_color: [0, 255, 0, 0] # transparent
  vertex_fill_color: [0, 255, 0, 255]
  # selecting / hovering
  select_line_color: [255, 255, 255, 255]
  select_fill_color: [0, 255, 0, 155]
  hvertex_fill_color: [255, 255, 255, 255]
  point_size: 8

ai:
  default: "EfficientSam (speed)"

# main
flag_dock:
  show: true
  closable: true
  movable: true
  floatable: true
label_dock:
  show: true
  closable: true
  movable: true
  floatable: true
shape_dock:
  show: true
  closable: true
  movable: true
  floatable: true
file_dock:
  show: true
  closable: true
  movable: true
  floatable: true

# label_dialog
show_label_text_field: true
label_completion: startswith
fit_to_content:
  column: true
  row: false

# canvas
epsilon: 10.0
canvas:
  fill_drawing: true
  # None: do nothing
  # close: close polygon
  double_click: close
  # The max number of edits we can undo
  num_backups: 10
  # show crosshair
  crosshair:
    polygon: false
    rectangle: true
    circle: false
    line: false
    point: false
    linestrip: false
    polygonSAM: false
    ai_polygon: false
    ai_mask: false

# segment anything related parameters
sam:
  weights: vit_b # vit_h, vit_l or vit_b
  maxside: 1280 # will downsize the image during inference to the maxsize.
  approxpoly_epsilon: 1 # adjust the poylgon simplification algorithm. The large the less vertices.
  device: "cuda" # "cuda" or "cpu"

shortcuts:
  close: Ctrl+W
  open: Ctrl+O
  open_dir: Ctrl+U
  quit: Ctrl+Q
  save: Ctrl+S
  save_as: Ctrl+Shift+S
  save_to: null
  delete_file: Ctrl+Delete

  open_next: [D, Ctrl+Shift+D]
  open_prev: [A, Ctrl+Shift+A]

  zoom_in: [Ctrl++, Ctrl+=]
  zoom_out: Ctrl+-
  zoom_to_original: Ctrl+0
  fit_window: Ctrl+F
  fit_width: Ctrl+Shift+F

  create_polygon: Ctrl+N
  create_rectangle: Ctrl+R
  create_circle: null
  create_line: null
  create_point: null
  create_linestrip: null
  edit_polygon: Ctrl+J
  delete_polygon: Delete
  duplicate_polygon: Ctrl+D
  copy_polygon: Ctrl+C
  paste_polygon: Ctrl+V
  undo: Ctrl+Z
  undo_last_point: Ctrl+Z
  add_point_to_edge: Ctrl+Shift+P
  edit_label: Ctrl+E
  toggle_keep_prev_mode: Ctrl+P
  remove_selected_point: [Meta+H, Backspace]
  show_all_polygons: null
  hide_all_polygons: null
  toggle_all_polygons: T

events:
  start: event_start
  end: event_end

tracker:
  # Flow-aware search radius controls
  motion_search_tighten: 0.85
  motion_search_gain: 0.6
  motion_search_min_radius: 1.0
  motion_search_max_radius: 8.0
  motion_search_miss_boost: 1.0
  # Motion prior penalty controls
  motion_prior_penalty_weight: 0.3
  motion_prior_soft_radius_px: 12.0
  motion_prior_radius_factor: 1.5
  motion_prior_miss_relief: 0.75
  # Mask enforcement
  mask_enforce_position: true
  mask_enforce_search_radius: 12
  mask_enforce_snap_radius: 12
  mask_enforce_reject_outside: true
  # Flow-aware blending controls
  motion_search_flow_gain: 0.6
  motion_prior_flow_relief: 0.0

realtime:
  model: yolo11n-seg.pt
  publisher_address: tcp://*:5555
  subscriber_address: tcp://127.0.0.1:5555
  camera_index: 0
  server_address: localhost
  server_port: 5002
  frame_width: 640
  frame_height: 480
  max_fps: 30.0
  confidence_threshold: 0.25
  publish_frames: true
  publish_annotated_frames: true
  log_to_ndjson: false
